(this["webpackJsonphack-ideas-react"]=this["webpackJsonphack-ideas-react"]||[]).push([[0],{14:function(e,t,c){},15:function(e,t,c){"use strict";c.r(t);var n=c(2),a=["security","devops","tech","cloud","data science","ui"],s="Home",l="My Challenges",i="none",r="recents",o="likes",d=function(e){return JSON.parse(JSON.stringify(e))},j=c(1),u=c.n(j),b=Object(j.createContext)({}),m=c(0);var h=function(){var e,t=Object(j.useContext)(b),c=t.loggedIn,n=t.username;return e=c?Object(m.jsxs)("div",{className:"d-flex justify-content-end flex-column logout",children:[Object(m.jsxs)("span",{children:["logged in as: ",Object(m.jsx)("strong",{children:n})]}),Object(m.jsx)("span",{onClick:function(){localStorage.setItem("loggedIn",!1),document.location.reload()},className:"logoutLink",children:"logout"})]}):null,Object(m.jsxs)("nav",{className:"navbar d-flex justify-content-between px-3",children:[Object(m.jsx)("span",{className:"navbar-brand",children:"Hack Ideas"}),e]})},f=c(8),O=c(3);var x=function(e){var t=e.tag,c=e.active,n=e.children,a=e.onClick;return Object(m.jsx)("span",{className:"hTag ".concat(c?"active":""),onClick:function(){return a(t)},children:n})},g=c(4),v=c.n(g);var p=function(e){var t=Object(j.useContext)(b),c=t.username,s=t.challenges,l=t.updateChallenges,i=Object(j.useState)({title:"",description:"",tags:[],createdBy:"",createdDate:"",likedBy:[],id:""}),r=Object(n.a)(i,2),o=r[0],d=r[1];Object(j.useEffect)((function(){e.open?(d({title:"",description:"",tags:[],createdBy:"",createdDate:"",likedBy:[]}),document.querySelector("#hackDialog").showModal()):document.querySelector("#hackDialog").close()}),[e]);var u=function(e){var t=o.tags;if(t.includes(e)){var c=t.findIndex((function(t){return t===e}));t.splice(c,1),d(Object(O.a)({},o))}else d(Object(O.a)(Object(O.a)({},o),{},{tags:[].concat(Object(f.a)(t),[e])}))};return v.a.createPortal(Object(m.jsxs)("dialog",{className:"hackDialog",id:"hackDialog",children:[Object(m.jsx)("h5",{className:"mb-3",children:"Add New Challenge"}),Object(m.jsxs)("form",{onSubmit:function(t){if(t.preventDefault(),t.target.checkValidity){var n=(new Date).toISOString();o.createdBy=c,o.createdDate=n,o.id=Date.now(),l([].concat(Object(f.a)(s),[o])),e.onclose()}},children:[Object(m.jsx)("div",{className:"mb-3",children:Object(m.jsx)("input",{type:"text",className:"form-control",placeholder:"Enter challenge title",value:o.title,onChange:function(e){d(Object(O.a)(Object(O.a)({},o),{},{title:e.target.value}))},required:!0})}),Object(m.jsx)("div",{className:"mb-3",children:Object(m.jsx)("textarea",{className:"form-control",rows:"5",value:o.description,placeholder:"Add challenge description",onChange:function(e){d(Object(O.a)(Object(O.a)({},o),{},{description:e.target.value}))},required:!0})}),Object(m.jsx)("div",{className:"mb-3",children:a.map((function(e){return Object(m.jsx)(x,{active:o.tags.includes(e),onClick:u,tag:e,children:e},e)}))}),Object(m.jsxs)("div",{className:"mt-3 d-flex justify-content-end",children:[Object(m.jsx)("input",{className:"btn btn-secondary",type:"button",value:"Cancel",onClick:function(){e.onclose()}}),Object(m.jsx)("pre",{children:" "}),Object(m.jsx)("input",{className:"btn btn-primary",type:"submit",value:"Add"})]})]})]}),document.body)};var N=function(e){var t=e.challenge,c=e.onClick,n=e.onLike,a=e.onDisLike,s=Object(j.useContext)(b).username;return Object(m.jsxs)("div",{className:"ChallengesListItem",onClick:function(){c(t)},children:[Object(m.jsx)("div",{className:"title mb-3 overflowHidden",children:t.title}),Object(m.jsx)("div",{className:"description overflowHidden mb-2",children:t.description}),Object(m.jsx)("div",{className:"hTags mb-2",children:t.tags.map((function(e){return Object(m.jsx)("span",{className:"hTag small",children:e},e)}))}),Object(m.jsxs)("div",{className:"likes-box d-flex align-items-center",children:[t.likedBy.includes(s)?Object(m.jsx)("span",{className:"label liked",onClick:function(e){!function(e,t){e.stopPropagation(),a(t)}(e,t.id)}}):Object(m.jsx)("span",{className:"label",onClick:function(e){!function(e,t){e.stopPropagation(),n(t)}(e,t.id)}}),Object(m.jsx)("span",{className:"likes",children:t.likedBy.length})]})]})},y=c.p+"static/media/undraw_new_ideas_jdea.2b023f22.svg";var k=function(){return Object(m.jsxs)("div",{className:"d-flex flex-fill align-items-center justify-content-center flex-column NoChallengesBanner",children:[Object(m.jsx)("img",{src:y,alt:"No Challenges",width:"150",className:"mb-3"}),Object(m.jsx)("p",{children:"No challenges yet!"}),Object(m.jsx)("p",{children:"Click on add new challenge to add your first challenge."})]})};var C=function(e){return Object(j.useEffect)((function(){e.open?document.querySelector("#viewHackDialog").showModal():document.querySelector("#viewHackDialog").close()}),[e]),v.a.createPortal(Object(m.jsxs)("dialog",{className:"hackDialog",id:"viewHackDialog",children:[Object(m.jsx)("h5",{className:"mb-3 title",children:e.challenge.title}),Object(m.jsxs)("p",{className:"addedByLabel",children:["Added by: ",e.challenge.createdBy]}),Object(m.jsx)("p",{className:"mb-3 description",children:e.challenge.description}),Object(m.jsx)("div",{className:"hTags mb-3",children:e.challenge.tags&&e.challenge.tags.map((function(e){return Object(m.jsx)("span",{className:"hTag small",children:e},e)}))}),Object(m.jsxs)("div",{className:"mt-3 d-flex justify-content-end",children:[Object(m.jsx)("input",{className:"btn btn-secondary",type:"button",value:"Cancel",onClick:function(){e.onclose()}}),Object(m.jsx)("pre",{children:" "})]})]}),document.body)};var S=function(e){var t=Object(j.useState)(!1),c=Object(n.a)(t,2),a=c[0],s=c[1],l=Object(j.useState)({}),i=Object(n.a)(l,2),r=i[0],o=i[1],u=Object(j.useState)(!1),h=Object(n.a)(u,2),f=h[0],O=h[1],x=Object(j.useContext)(b),g=x.username,v=x.challenges,p=x.updateChallenges,y=x.activeTab,S=x.sortBy;return Object(j.useEffect)((function(){O(!0),setTimeout((function(){O(!1)}),300)}),[y,S]),f?Object(m.jsx)("div",{className:"d-flex flex-fill align-items-center justify-content-center",children:Object(m.jsx)("div",{className:"spinner-border text-secondary",role:"status"})}):e.challenges.length?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("div",{className:"ChallengesList mt-1",children:e.challenges.map((function(e){return Object(m.jsx)(N,{challenge:e,onClick:function(e){!function(e){o(e),s(!0)}(e)},onLike:function(e){!function(e){var t=d(v),c=t.findIndex((function(t){return t.id===e}));t[c].likedBy.push(g),p(t)}(e)},onDisLike:function(e){!function(e){var t=d(v),c=t.findIndex((function(t){return t.id===e})),n=t[c].likedBy.findIndex((function(e){return e===g}));t[c].likedBy.splice(n,1),p(t)}(e)}},e.id)}))}),Object(m.jsx)(C,{challenge:r,open:a,onclose:function(){s(!1)}})]}):Object(m.jsx)(k,{})};var I=function(){var e=Object(j.useContext)(b),t=e.activeTab,c=e.setActiveTab;return Object(m.jsx)("div",{className:"homeTabs",children:Object(m.jsxs)("ul",{className:"nav nav-tabs",children:[Object(m.jsx)("li",{className:"nav-item",onClick:function(){c(s)},children:Object(m.jsx)("span",{className:"nav-link ".concat(t===s?"active":""),children:s})}),Object(m.jsx)("li",{className:"nav-item",onClick:function(){c(l)},children:Object(m.jsx)("span",{className:"nav-link ".concat(t===l?"active":""),children:l})})]})})};var B=function(){var e=Object(j.useContext)(b),t=e.sortBy,c=e.setSortBy,n=function(e){c(e===r?t===r?i:r:t===o?i:o)};return Object(m.jsxs)("div",{className:"sortbyLabels d-flex mb-1",children:[Object(m.jsx)("span",{children:"SORT BY:"}),Object(m.jsxs)("div",{className:"d-flex sortbyItem",children:[Object(m.jsx)("span",{onClick:function(){n(r)},className:"hsort ".concat(t===r?"bold":""),children:"Most Recent"}),Object(m.jsx)("span",{onClick:function(){n(o)},className:"hsort ".concat(t===o?"bold":""),children:"Most Liked"})]})]})};var w=function(){var e=Object(j.useContext)(b),t=e.activeTab,c=e.filteredChallenges,a=Object(j.useState)(!1),l=Object(n.a)(a,2),i=l[0],r=l[1];return Object(m.jsxs)("div",{className:"homeContainer d-flex flex-fill flex-column",children:[Object(m.jsx)(I,{}),Object(m.jsxs)("div",{className:"d-flex justify-content-between my-5 align-items-center",children:[Object(m.jsx)("h4",{className:"heading m-0",children:t===s?"All Challenges":"My Challenges"}),Object(m.jsx)("button",{className:"btn btn-success btn-sm",onClick:function(){r(!0)},children:"+ Add New Challenge"})]}),Object(m.jsx)(B,{}),Object(m.jsx)(S,{challenges:c}),Object(m.jsx)(p,{open:i,onclose:function(){r(!1)}})]})},D=function(e,t){return e.id>t.id?-1:e.id<t.id?1:0},L=function(e,t){return e.likedBy.length>t.likedBy.length?-1:e.likedBy.length<t.likedBy.length?1:0};var T=function(){var e=localStorage.getItem("username"),t=localStorage.getItem("loggedIn"),c=Object(j.useState)(s),a=Object(n.a)(c,2),l=a[0],o=a[1],u=JSON.parse(localStorage.getItem("challenges"))||[],f=Object(j.useState)(u),O=Object(n.a)(f,2),x=O[0],g=O[1],v=Object(j.useState)([]),p=Object(n.a)(v,2),N=p[0],y=p[1],k=Object(j.useState)(i),C=Object(n.a)(k,2),S=C[0],I=C[1],B=function(t){return t.createdBy===e};return Object(j.useEffect)((function(){var e;e=l===s?d(x):x.filter(B),S===i||e.sort(S===r?D:L),y((function(){return e}))}),[l,S,x]),Object(j.useEffect)((function(){I(i)}),[l]),Object(m.jsx)("div",{className:"d-flex flex-column flex-fill",children:Object(m.jsxs)(b.Provider,{value:{activeTab:l,setActiveTab:o,loggedIn:t,username:e,sortBy:S,setSortBy:I,challenges:x,filteredChallenges:N,updateChallenges:function(e){g((function(){return e})),localStorage.setItem("challenges",JSON.stringify(e))}},children:[Object(m.jsx)(h,{}),Object(m.jsx)(w,{})]})})},A=c.p+"static/media/undraw_programming.795b8b8c.svg";var E=function(){var e=Object(j.useState)(""),t=Object(n.a)(e,2),c=t[0],a=t[1];return Object(m.jsx)("div",{className:"LoginForm",children:Object(m.jsxs)("form",{className:"flex flex-column",onSubmit:function(e){e.preventDefault(),e.target.checkValidity()&&(localStorage.setItem("loggedIn",!0),localStorage.setItem("username",c),document.location.reload())},children:[Object(m.jsx)("label",{className:"mb-3 hLoginLabel",children:"LOGIN TO HACK IDEAS"}),Object(m.jsx)("input",{type:"text",onChange:function(e){a(e.target.value)},className:"form-control mb-3",placeholder:"Enter employee number (ex: 12345)",maxLength:5,pattern:"\\d{5}",required:!0}),Object(m.jsx)("div",{className:"d-grid",children:Object(m.jsx)("button",{className:"btn btn-primary",children:"LOGIN"})})]})})};var H=function(){return Object(m.jsxs)("div",{className:"d-flex flex-column flex-fill login",children:[Object(m.jsx)(h,{}),Object(m.jsxs)("div",{className:"d-flex flex-fill  align-items-center justify-content-center",children:[Object(m.jsx)("img",{src:A,alt:"wallpaper",width:"500"}),Object(m.jsx)(E,{})]})]})},q=JSON.parse(localStorage.getItem("loggedIn"));var J=function(){return q?Object(m.jsx)(T,{}):Object(m.jsx)(H,{})};c(14);v.a.render(Object(m.jsx)(u.a.StrictMode,{children:Object(m.jsx)(J,{})}),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.a7e9ab5e.chunk.js.map